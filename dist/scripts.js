'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.displayPlan = exports.displayLast = exports.displayCost = undefined;

var _getSplitObj = require('./getSplitObj');

var _getSplitObj2 = _interopRequireDefault(_getSplitObj);

var _classData = require('./classData');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var calc = document.querySelector('#calc');
var displayCost = exports.displayCost = document.querySelectorAll('.costRes');
var displayLast = exports.displayLast = document.querySelectorAll('.lastMonth');
var displayCurrent = document.querySelectorAll('.currentMonth');
var displayDiff = document.querySelectorAll('.diffRes');
var displayAll = document.querySelectorAll('.allRes');
var displayPlan = exports.displayPlan = document.querySelector('#plan');
var total = document.querySelector('#total');
var result = document.querySelector('#result');

var createObj = function createObj(displayList) {
  var arrValue = [].concat(_toConsumableArray(displayList)).reduce(function (acc, elem) {
    return acc.concat(elem.value);
  }, []);
  if (arrValue.length === 5) {
    return new (Function.prototype.bind.apply(_classData.PriceData, [null].concat(_toConsumableArray(arrValue))))();
  }
  return new (Function.prototype.bind.apply(_classData.MouthData, [null].concat(_toConsumableArray(arrValue))))();
};

var prices = JSON.parse(localStorage.getItem('prices')) || '';

var lastMonth = JSON.parse(localStorage.getItem('lastMonth')) || '';

var currentMonth = JSON.parse(localStorage.getItem('currentMonth')) || '';

var plan = JSON.parse(localStorage.getItem('plan')) || '';

function displaying(nodes, obj) {
  nodes.forEach(function (node, index) {
    if (obj === '') {
      node.value = '';
    } else {
      node.value = (0, _getSplitObj2.default)(obj)[index];
    }
  });
}

displaying(displayCost, prices);
displaying(displayLast, lastMonth);
displayPlan.value = plan;
var objDiff = {};
function calcDifference(last, current) {
  return (0, _getSplitObj2.default)(last).reduce(function (acc, lastValue, index) {
    var currentValue = (0, _getSplitObj2.default)(current)[index];
    var currentKeys = (0, _getSplitObj2.default)(current, false)[index];
    var diff = currentValue - lastValue;
    acc[currentKeys] = diff;
    return acc;
  }, objDiff);
}

var objTariff = {};
function calcTariff(diff, price) {
  return (0, _getSplitObj2.default)(price, false).reduce(function (acc, priceKey, index) {
    var forTariff = void 0;
    var diffValue = (0, _getSplitObj2.default)(diff)[index];
    var priceValue = (0, _getSplitObj2.default)(price)[index];
    if (priceKey === 'sink') {
      forTariff = Number(Number(diffValue * priceValue).toFixed(2));
    } else {
      forTariff = Number(Number((0, _getSplitObj2.default)(diff)[index - 1] * priceValue).toFixed(2));
    }
    acc[priceKey] = forTariff;
    return acc;
  }, objTariff);
}

var calcTotal = function calcTotal(tariff) {
  return (0, _getSplitObj2.default)(tariff).reduce(function (sum, value) {
    return sum + value;
  }, 0);
};

function countUp() {
  prices = createObj(displayCost);
  currentMonth = createObj(displayCurrent);
  lastMonth = createObj(displayLast);
  plan = Number(Number(displayPlan.value).toFixed(2));

  localStorage.setItem('prices', JSON.stringify(prices));
  localStorage.setItem('currentMonth', JSON.stringify(currentMonth));
  localStorage.setItem('lastMonth', JSON.stringify(currentMonth));
  localStorage.setItem('plan', JSON.stringify(plan));

  displaying(displayDiff, calcDifference(lastMonth, currentMonth));
  displaying(displayAll, calcTariff(objDiff, prices));

  var totalValue = calcTotal(objTariff);
  total.textContent = totalValue;

  result.textContent = totalValue + plan;
}
calc.addEventListener('click', countUp);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zY3JpcHRzLmpzIl0sIm5hbWVzIjpbImNhbGMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJkaXNwbGF5Q29zdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkaXNwbGF5TGFzdCIsImRpc3BsYXlDdXJyZW50IiwiZGlzcGxheURpZmYiLCJkaXNwbGF5QWxsIiwiZGlzcGxheVBsYW4iLCJ0b3RhbCIsInJlc3VsdCIsImNyZWF0ZU9iaiIsImFyclZhbHVlIiwiZGlzcGxheUxpc3QiLCJyZWR1Y2UiLCJhY2MiLCJlbGVtIiwiY29uY2F0IiwidmFsdWUiLCJsZW5ndGgiLCJwcmljZXMiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibGFzdE1vbnRoIiwiY3VycmVudE1vbnRoIiwicGxhbiIsImRpc3BsYXlpbmciLCJub2RlcyIsIm9iaiIsImZvckVhY2giLCJub2RlIiwiaW5kZXgiLCJvYmpEaWZmIiwiY2FsY0RpZmZlcmVuY2UiLCJsYXN0IiwiY3VycmVudCIsImxhc3RWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsImN1cnJlbnRLZXlzIiwiZGlmZiIsIm9ialRhcmlmZiIsImNhbGNUYXJpZmYiLCJwcmljZSIsInByaWNlS2V5IiwiZm9yVGFyaWZmIiwiZGlmZlZhbHVlIiwicHJpY2VWYWx1ZSIsIk51bWJlciIsInRvRml4ZWQiLCJjYWxjVG90YWwiLCJ0YXJpZmYiLCJzdW0iLCJjb3VudFVwIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInRvdGFsVmFsdWUiLCJ0ZXh0Q29udGVudCIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFNQSxPQUFPQyxTQUFTQyxhQUFULENBQXVCLE9BQXZCLENBQWI7QUFDTyxJQUFNQyxvQ0FBY0YsU0FBU0csZ0JBQVQsQ0FBMEIsVUFBMUIsQ0FBcEI7QUFDQSxJQUFNQyxvQ0FBY0osU0FBU0csZ0JBQVQsQ0FBMEIsWUFBMUIs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QWxDO0FBQ0FILGVBQWFnQyxPQUFiLENBQXFCLE1BQXJCLEVBQTZCbEMsS0FBS21DLFNBQUwsQ0FBZTdCLElBQWYsQ0FBN0I7O0FBRUFDLGFBQVd0QixXQUFYLEVBQXdCNkIsZUFBZVYsU0FBZixFQUEwQkMsWUFBMUIsQ0FBeEI7QUFDQUUsYUFBV3JCLFVBQVgsRUFBdUJvQyxXQUFXVCxPQUFYLEVBQW9CZCxNQUFwQixDQUF2Qjs7QUFFQSxNQUFNcUMsYUFBYU4sVUFBVVQsU0FBVixDQUFuQjtBQUNBakMsUUFBTWlELFdBQU4sR0FBb0JELFVBQXBCOztBQUVBL0MsU0FBT2dELFdBQVAsR0FBcUJELGFBQWE5QixJQUFsQztBQUNEO0FBQ0Q1QixLQUFLNEQsZ0JBQUwsQ0FBc0IsT0FBdEIsRUFBK0JMLE9BQS9CIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ2V0U3BsaXRPYmogZnJvbSAnLi9nZXRTcGxpdE9iaic7XG5pbXBvcnQgeyBNb3V0aERhdGEsIFByaWNlRGF0YSB9IGZyb20gJy4vY2xhc3NEYXRhJztcblxuY29uc3QgY2FsYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYWxjJyk7XG5leHBvcnQgY29uc3QgZGlzcGxheUNvc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29zdFJlcycpO1xuZXhwb3J0IGNvbnN0IGRpc3BsYXlMYXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxhc3RNb250aCcpO1xuY29uc3QgZGlzcGxheUN1cnJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY3VycmVudE1vbnRoJyk7XG5jb25zdCBkaXNwbGF5RGlmZiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaWZmUmVzJyk7XG5jb25zdCBkaXNwbGF5QWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFsbFJlcycpO1xuZXhwb3J0IGNvbnN0IGRpc3BsYXlQbGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BsYW4nKTtcbmNvbnN0IHRvdGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvdGFsJyk7XG5jb25zdCByZXN1bHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVzdWx0Jyk7XG5cbmNvbnN0IGNyZWF0ZU9iaiA9IGRpc3BsYXlMaXN0ID0+IHtcbiAgY29uc3QgYXJyVmFsdWUgPSBbLi4uZGlzcGxheUxpc3RdLnJlZHVjZSgoYWNjLCBlbGVtKSA9PiBhY2MuY29uY2F0KGVsZW0udmFsdWUpLCBbXSk7XG4gIGlmIChhcnJWYWx1ZS5sZW5ndGggPT09IDUpIHtcbiAgICByZXR1cm4gbmV3IFByaWNlRGF0YSguLi5hcnJWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBNb3V0aERhdGEoLi4uYXJyVmFsdWUpO1xufTtcblxubGV0IHByaWNlcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ByaWNlcycpKSB8fCAnJztcblxubGV0IGxhc3RNb250aCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RNb250aCcpKSB8fCAnJztcblxubGV0IGN1cnJlbnRNb250aCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRNb250aCcpKSB8fCAnJztcblxubGV0IHBsYW4gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwbGFuJykpIHx8ICcnO1xuXG5mdW5jdGlvbiBkaXNwbGF5aW5nKG5vZGVzLCBvYmopIHtcbiAgbm9kZXMuZm9yRWFjaCgobm9kZSwgaW5kZXgpID0+IHtcbiAgICBpZiAob2JqID09PSAnJykge1xuICAgICAgbm9kZS52YWx1ZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLnZhbHVlID0gZ2V0U3BsaXRPYmoob2JqKVtpbmRleF07XG4gICAgfVxuICB9KTtcbn1cblxuZGlzcGxheWluZyhkaXNwbGF5Q29zdCwgcHJpY2VzKTtcbmRpc3BsYXlpbmcoZGlzcGxheUxhc3QsIGxhc3RNb250aCk7XG5kaXNwbGF5UGxhbi52YWx1ZSA9IHBsYW47XG5jb25zdCBvYmpEaWZmID0ge307XG5mdW5jdGlvbiBjYWxjRGlmZmVyZW5jZShsYXN0LCBjdXJyZW50KSB7XG4gIHJldHVybiBnZXRTcGxpdE9iaihsYXN0KS5yZWR1Y2UoKGFjYywgbGFzdFZhbHVlLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGdldFNwbGl0T2JqKGN1cnJlbnQpW2luZGV4XTtcbiAgICBjb25zdCBjdXJyZW50S2V5cyA9IGdldFNwbGl0T2JqKGN1cnJlbnQsIGZhbHNlKVtpbmRleF07XG4gICAgY29uc3QgZGlmZiA9IGN1cnJlbnRWYWx1ZSAtIGxhc3RWYWx1ZTtcbiAgICBhY2NbY3VycmVudEtleXNdID0gZGlmZjtcbiAgICByZXR1cm4gYWNjO1xuICB9LCBvYmpEaWZmKTtcbn1cblxuY29uc3Qgb2JqVGFyaWZmID0ge307XG5mdW5jdGlvbiBjYWxjVGFyaWZmKGRpZmYsIHByaWNlKSB7XG4gIHJldHVybiBnZXRTcGxpdE9iaihwcmljZSwgZmFsc2UpLnJlZHVjZSgoYWNjLCBwcmljZUtleSwgaW5kZXgpID0+IHtcbiAgICBsZXQgZm9yVGFyaWZmO1xuICAgIGNvbnN0IGRpZmZWYWx1ZSA9IGdldFNwbGl0T2JqKGRpZmYpW2luZGV4XTtcbiAgICBjb25zdCBwcmljZVZhbHVlID0gZ2V0U3BsaXRPYmoocHJpY2UpW2luZGV4XTtcbiAgICBpZiAocHJpY2VLZXkgPT09ICdzaW5rJykge1xuICAgICAgZm9yVGFyaWZmID0gTnVtYmVyKE51bWJlcihkaWZmVmFsdWUgKiBwcmljZVZhbHVlKS50b0ZpeGVkKDIpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yVGFyaWZmID0gTnVtYmVyKE51bWJlcihnZXRTcGxpdE9iaihkaWZmKVtpbmRleCAtIDFdICogcHJpY2VWYWx1ZSkudG9GaXhlZCgyKSk7XG4gICAgfVxuICAgIGFjY1twcmljZUtleV0gPSBmb3JUYXJpZmY7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgb2JqVGFyaWZmKTtcbn1cblxuY29uc3QgY2FsY1RvdGFsID0gdGFyaWZmID0+IGdldFNwbGl0T2JqKHRhcmlmZikucmVkdWNlKChzdW0sIHZhbHVlKSA9PiBzdW0gKyB2YWx1ZSwgMCk7XG5cbmZ1bmN0aW9uIGNvdW50VXAoKSB7XG4gIHByaWNlcyA9IGNyZWF0ZU9iaihkaXNwbGF5Q29zdCk7XG4gIGN1cnJlbnRNb250aCA9IGNyZWF0ZU9iaihkaXNwbGF5Q3VycmVudCk7XG4gIGxhc3RNb250aCA9IGNyZWF0ZU9iaihkaXNwbGF5TGFzdCk7XG4gIHBsYW4gPSBOdW1iZXIoTnVtYmVyKGRpc3BsYXlQbGFuLnZhbHVlKS50b0ZpeGVkKDIpKTtcblxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJpY2VzJywgSlNPTi5zdHJpbmdpZnkocHJpY2VzKSk7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW50TW9udGgnLCBKU09OLnN0cmluZ2lmeShjdXJyZW50TW9udGgpKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xhc3RNb250aCcsIEpTT04uc3RyaW5naWZ5KGN1cnJlbnRNb250aCkpO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGxhbicsIEpTT04uc3RyaW5naWZ5KHBsYW4pKTtcblxuICBkaXNwbGF5aW5nKGRpc3BsYXlEaWZmLCBjYWxjRGlmZmVyZW5jZShsYXN0TW9udGgsIGN1cnJlbnRNb250aCkpO1xuICBkaXNwbGF5aW5nKGRpc3BsYXlBbGwsIGNhbGNUYXJpZmYob2JqRGlmZiwgcHJpY2VzKSk7XG5cbiAgY29uc3QgdG90YWxWYWx1ZSA9IGNhbGNUb3RhbChvYmpUYXJpZmYpO1xuICB0b3RhbC50ZXh0Q29udGVudCA9IHRvdGFsVmFsdWU7XG5cbiAgcmVzdWx0LnRleHRDb250ZW50ID0gdG90YWxWYWx1ZSArIHBsYW47XG59XG5jYWxjLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY291bnRVcCk7XG4iXX0=